= Build Plugin for Components to Install Anywhere
:source-highlighter: prettify
:blank: pass:[ +]
:latestRevision: 1.0.0
:icons: font
:toc:

image:https://travis-ci.org/IntershopCommunicationsAG/component-build-plugin.svg?branch=master["Build Status", link="https://travis-ci.org/IntershopCommunicationsAG/component-build-plugin"]
image:https://api.codacy.com/project/badge/Grade/9d88a63723864ca7bd77e9c05e8d1e48["Codacy code quality", link="https://www.codacy.com/app/IntershopCommunicationsAG/component-build-plugin?utm_source=github.com&utm_medium=referral&utm_content=IntershopCommunicationsAG/component-build-plugin&utm_campaign=Badge_Grade"]

NOTE: This library requires Gradle 4 and JDK 8

NOTE: This library is under development and not final released.


== Summary
This plugin generates a component descriptor, that can be used for deployments on any platforms. It is possible to
add modules (eg Intershop Cartridges), libraries, zip files (container), single files and properties for different
installation and environemnt types and operating systems (classifier). The configuration contains also the installation
target.
There is also an deployment plugin, that used the descriptor for an installation.

== Usage
To apply the component-build Gradle Plugin to your projects, add the following in your build script:

[source,groovy]
[subs=+attributes]
.build.gradle
----
plugins {
    id 'com.intershop.gradle.component.build' version '{latestRevision}'
}

component {
    // component configuration
}
----

== Tasks

[cols="25%,30%,45%", width="100%", options="header"]
|===
|Task name                   | Type                 | Description

|zipContainer<name> | ZipContainerTask     | These tasks create zip container from configured sources.
|verifyClasspath              | VerifyClasspathTask  | For all configured jar files the classpath will be verified for duplicated classes by this task.
|createComponent              | CreateComponentTask  | The main task creates the descriptor file.
|===

The package name of all tasks is `com.intershop.gradle.component.build.tasks`.

The parameter `--recreate` enable the rebuild of `verifyClasspath` and `createComponent` without considering incremental configuration.

== Project Extension 'component'

=== Properties of 'component'

[cols="1m,2d" width="100%", options="header"]
|===
|Property | Description

| <<ivyPublicationName,ivyPublicationName>>     | This property value is used for the name of the used ivy publication.
| <<mavenPublicationName,mavenPublicationName>> | This property value is used for the name of the used maven publication.
| <<displayName,displayName>>                   | The display name is visible for the installation client.
| <<componentDescription,componentDescription>> | This is a more detailed description of this component.
| <<targetPath,targetPath>>                     | The default target path of the configured component.
| <<decriptorOutputFile,decriptorOutputFile>>   | The configuration of the output file of createComponent.
| <<types,types>>                               | This is a list of deployment and environement types of the component. (*read only*)
| <<excludesFromUpdate,excludesFromUpdate>>     | This patterns are used for the update. Files that matches to one of patterns will be excluded from the update installation.
| <<libs,libs>>                                 | This is the data container for all libraries. (*read only*)
| <<modules,modules>>                           | This configuration contains all libraries. (*read only*)
| <<dependencyMngt,dependencyMngt>>             | This container holds all dependency related configuration parameters. (*read only*)
| <<fileItems,fileItems>>                       | This is the configuration of all single files. (*read only*)
| <<containers,containers>>                     | File containers can be configured in this configuration. (*read only*)
| <<propertyItems,propertyItems>>               | Properties can be configured in this container. (*read only*)
|===

[[ivyPublicationName]]
[source,groovy]
String ivyPublicationName

:::
This property value is used for the name of the used ivy publication.
Default:: `ivyIntershop`

***
[[mavenPublicationName]]
[source,groovy]
String mavenPublicationName

:::
This property value is used for the name of the used maven publication.
Default:: `mvnIntershop`

***
[[displayName]]
[source,groovy]
String displayName

:::
The display name is visible for the installation client.
Default:: `*project.name*`

***
[[componentDescription]]
[source,groovy]
String componentDescription

:::
This is a more detailed description of this component.
Default:: `""`

***
[[targetPath]]
[source,groovy]
String targetPath

:::
The default target path of the configured component.
Default:: `""`

***
[[decriptorOutputFile]]
[source,groovy]
File decriptorOutputFile

:::
The configuration of the output file of createComponent.
Default:: `*project.buildDir*/componentBuild/descriptor/file.component`

***
[[types]]
[source,groovy]
Set<String> types

:::
This is a list of deployment and environement types of the component. (*read only*)
Default:: `[]`

***
[[excludesFromUpdate]]
[source,groovy]
Set<String> excludesFromUpdate

:::
This patterns are used for the update. Files that matches to one of patterns will be excluded from the update installation. (*read only*)
Default:: `[]`

***
[[libs]]
[source,groovy]
LibraryItemContainer libs

:::
This is the data container for all libraries (*read only*). See <<LibraryItemContainer, `LibraryItemContainer`>>.

***
[[modules]]
[source,groovy]
ModuleItemContainer modules

:::
This configuration contains all libraries (*read only*). See <<ModuleItemContainer, `ModuleItemContainer`>>.

***
[[dependencyMngt]]
[source,groovy]
DependencyMngtContainer dependencyMngt

:::
This container holds all dependency related configuration parameters (*read only*). See <<DependencyMngtContainer, `DependencyMngtContainer`>>.

***
[[fileItems]]
[source,groovy]
FileItemContainer fileItems

:::
This is the configuration of all single files (*read only*). See <<FileItemContainer, `FileItemContainer`>>.

***
[[containers]]
[source,groovy]
FileContainerItemContainer containers

:::
File containers can be configured in this configuration (*read only*). See <<FileContainerItemContainer, `FileContainerItemContainer`>>.

***
[[propertyItems]]
[source,groovy]
PropertyItemContainer propertyItems

:::
Properties can be configured in this container (*read only*). See <<PropertyItemContainer, `PropertyItemContainer`>>.

***

=== Methods of 'component'

[cols="1m,1d" width="100%", options="header"]
|===
|Method     | Description

|<<addType,addType>>(type) | Add a deployment or environment type to the list of types. The method returns false, if the new type is already a member of the list.
|<<addTypes,addTypes>>(types) | Add a collection of deployment or environment types to the list of types. The method returns false, if the one of the list is already a member of the list.
|<<scaddUpdateExcludePattern,addUpdateExcludePattern>>(pattern) | Adds a pattern to the set of exclude patterns. Files that matches to one of patterns will be excluded from the update installation.
|<<maaddUpdateExcludePattern,addUpdateExcludePattern>>(patterns) | Adds a set of patterns to the set of exclude patterns. Files that matches to one of patterns will be excluded from the update installation.
|<<mlibs,libs>>(Action<? super LibraryItemContainer> action) | Initialize container for library configuration.
|<<mmodules,modules>>(Action<? super ModuleItemContainer> action) | Initialize container for modul configuration.
|<<mdependencyMngt,dependencyMngt>>(Action<? super DependencyMngtContainer> action) | Initialize container for dependency management container. This includes also the configuration for the class collision verification.
|<<mfileItems,fileItems>>(Action<? super FileItemContainer> action) | Initialize container for single files.
|<<mcontainers,containers>>(Action<? super FileContainerItemContainer> action) | Initialize container for additional file item containers.
|<<mpropertyItems,propertyItems>>(Action<? super PropertyItemContainer> action) | Initialize container for properties.
|===

[[addType]]
[source,groovy]
boolean addType(String type)

:::
Add a deployment or environment type to the list of types. The method returns false, if the new type is already a member of the list.

***
[[addTypes]]
[source,groovy]
boolean addTypes(Collection<String> types)

:::
Add a collection of deployment or environment types to the list of types. The method returns false, if the one of the list is already a member of the list.

***
[[scaddUpdateExcludePattern]]
[source,groovy]
addUpdateExcludePattern(String pattern)

:::
Adds a pattern to the set of exclude patterns. Files that matches to one of patterns will be excluded from the update installation.

***
[[maaddUpdateExcludePattern]]
[source,groovy]
addUpdateExcludePattern(Set<String> patterns)

:::
Adds a set of patterns to the set of exclude patterns. Files that matches to one of patterns will be excluded from the update installation.

***
[[mlibs]]
[source,groovy]
libs(Action<? super LibraryItemContainer> action)

:::
Initialize container for library configuration. Instead of an action it is also possible to use a closure. See <<LibraryItemContainer, `LibraryItemContainer`>>.

***
[[mmodules]]
[source,groovy]
modules(Action<? super ModuleItemContainer> action)

:::
Initialize container for modul configuration. Instead of an action it is also possible to use a closure. See <<ModuleItemContainer, `ModuleItemContainer`>>.

***
[[mdependencyMngt]]
[source,groovy]
dependencyMngt(Action<? super DependencyMngtContainer> action)

:::
Initialize container for dependency management container. This includes also the configuration for the class collision verification.
Instead of an action it is also possible to use a closure. See <<DependencyMngtContainer, `DependencyMngtContainer`>>.

***
[[mfileItems]]
[source,groovy]
fileItems(Action<? super FileItemContainer> action)

:::
Initialize container for single files. Instead of an action it is also possible to use a closure. See <<FileItemContainer, `FileItemContainer`>>.

***
[[mcontainers]]
[source,groovy]
containers(Action<? super FileContainerItemContainer> action)

:::
Initialize container for additional file item containers. Instead of an action it is also possible to use a closure. See <<FileContainerItemContainer, `FileContainerItemContainer`>>.

***
[[mpropertyItems]]
[source,groovy]
propertyItems(Action<? super PropertyItemContainer> action)

:::
Initialize container for properties. Instead of an action it is also possible to use a closure. See <<PropertyItemContainer, `PropertyItemContainer`>>.

***

=== Configuration for libs, modules, fileitems and file container

==== Properties of containers and items

[cols="1m,2d" width="100%", options="header"]
|===
|Property | Description

|<<contentType,contentType>> | This setting specifies the handling of the folder / files.
|<<types,types>>   | This is a list of deployment and environement types of the component (*read only*). It is used for all items.
|===

[[contentType]]
[source,groovy]
String contentType

:::
This setting specifies the handling of the folder / files. +
The following values are allowed: +
  *IMMUTABLE* - statischer content will be replaced during the update +
  *DATA* - existing files can not be replaced by new files +
  *CONFIGURATION* - configuration files will be changed during the configuration +
  *UNSPECIFIED* - not specified content
Default:: `IMMUTABLE`

***
[[types]]
[source,groovy]
Set<String> types

:::
This is a list of deployment and environement types of the component (*read only*). It is used for all items.
Default:: `[]`
***

==== Methods of containers and items

[cols="1m,1d" width="100%", options="header"]
|===
|Method | Description

|<<setTypes,setTypes>>(types) | Set a collection of deployment or environment types to the list of types.
|<<addType,addType>>(type) | Add a deployment or environment type to the list of types. The method returns false, if the new type is already a member of the list.
|<<addTypes,addTypes>>(types) | Add a collection of deployment or environment types to the list of types. The method returns false, if the one of the list is already a member of the list.
|===

[[setTypes]]
[source,groovy]
void setTypes(Collection<String> types)

:::
Set a collection of deployment or environment types to the list of types.

***
[[addType]]
[source,groovy]
boolean addType(String type)

:::
Add a deployment or environment type to the list of types. The method returns false, if the new type is already a member of the list.

***
[[addTypes]]
[source,groovy]
boolean addTypes(Collection<String> types)

:::
Add a collection of deployment or environment types to the list of types. The method returns false, if the one of the list is already a member of the list.

***

[[LibraryItemContainer]]
=== Container 'libs'

This configuration contains the library configuration of a components. A library is a Maven dependency that includes one jar file.

==== Properties of 'libs'

[cols="1m,2d" width="100%", options="header"]
|===
|Property | Description

|<<libsitems,items>> | Set of all configured dependencies for library items.
|<<libsresolveTransitive,resolveTransitive>> | If this value is true, dependencies will be resolved transitive.
|<<libstargetPath,targetPath>> | A target path for all libraries.
|===

[[libsitems]]
[source,groovy]
Set<LibraryItem> items

:::
Set of all configured dependencies for library items. See <<LibraryItem,LibraryItem>>.
Default:: `[]`

***
[[libsresolveTransitive]]
[source,groovy]
boolean resolveTransitive

:::
If this value is true, dependencies will be resolved transitive.
Default:: `true`

***
[[libstargetPath]]
[source,groovy]
String targetPath

:::
A target path for all libraries.
Default:: `""`

***

==== Methods of 'libs'

[cols="1m,1d" width="100%", options="header"]
|===
|Method | Description

|<<libs1add,add>>(dependency, type, ...) | Creates an new instance of a library item with the dependency from the object and a list of types. It adds this item to the list and returns the instance for further configuration.
|<<libs2add,add>>(dependency) | Creates an new instance of a library item with the dependency from the object, adds this to the list and returns it for further configuration. Types of the container are used as a default configuration.
|<<libs3add,add>>(dependencies) | Creates new instances of library items from the object list with a types list from the container. All items a added to the list of items.
|<<libs4add,add>>(dependency,action) | Creates an new instance of a library item with the dependency from the object and configures this instance. The item is added to the list of items.
|===

[[libs1add]]
[source,groovy]
LibraryItem add(Object dependency, String... types)

:::
Creates a new instance of a library item with the dependency from the object and a list of types. It adds this item to the list and returns the instance for further configuration.
See <<LibraryItem,LibraryItem>>.

***
[[libs2add]]
[source,groovy]
LibraryItem add(Object dependency)

:::
Creates a new instance of a library item with the dependency from the object, adds this to the list and returns it for further configuration.
Types of the container are used as a default configuration. See <<LibraryItem,LibraryItem>>.

***
[[libs3add]]
[source,groovy]
void add(Collection<Object> dependencies)

:::
Creates new instances of library items from the object list with a types list from the container. All items a added to the list of items.

***
[[libs4add]]
[source,groovy]
void add(Object dependency, Action<? super LibraryItem> action)

:::
Creates a new instance of a library item with the dependency from the object and configures this instance. The item is added to the list of items.
Instead of an action it is also possible to use a closure. See <<LibraryItem,LibraryItem>>.

***

[[LibraryItem]]
==== Configuration of LibraryItem

===== Properties

[cols="1m,2d" width="100%", options="header"]
|===
|Property | Description

|<<libdependency,dependency>>        | The dependency configuration of this library.
|<<libresolveTransitive,resolveTransitive>> | If this value is true, the dependency will be resolved transitive.
|<<libtargetName,targetName>>      | The target name of this library artifact.
|===

[[libdependency]]
[source,groovy]
DependencyConfig dependency

:::
The dependency configuration of this library. See <<DependencyConfig,DependencyConfig>>.

***
[[libresolveTransitive]]
[source,groovy]
boolean resolveTransitive

:::
If this value is true, the dependency will be resolved transitive.
Default:: `true`

***
[[libtargetName]]
[source,groovy]
String targetName

:::
The target name of this library artifact.
Default:: `${dependency.group}_${dependency.module}_${dependency.version}`

***

[[ModuleItemContainer]]
=== Container 'modules'

This configuration contains the module configuration of a components. A module is an Ivy dependency that includes different files. In future releases this will replaced and an own
descriptor will be used.

==== Properties of 'modules'

[cols="1m,2d" width="100%", options="header"]
|===
|Property | Description

|<<modulesitems,items>> | Set of all configured dependencies for module items.
|<<modulesresolveTransitive,resolveTransitive>> | If this value is true, dependencies will be resolved transitive.
|<<modulestargetPath,targetPath>> | A target path for all modules.
|===

[[modulesitems]]
[source,groovy]
Set<ModuleItem> items

:::
Set of all configured dependencies for module items. See <<ModuleItem,ModuleItem>>.
Default:: `[]`

***
[[modulesresolveTransitive]]
[source,groovy]
boolean resolveTransitive

:::
If this value is true, dependencies will be resolved transitive.
Default:: `true`

***
[[modulestargetPath]]
[source,groovy]
String targetPath

:::
A target path for all modules.
Default:: `""`

***

==== Methods of 'modules'

[cols="1m,1d" width="100%", options="header"]
|===
|Method | Description

|<<modules1add,add>>(dependency, type, ...) | Creates an new instance of a module item with the dependency from the object and a list of types. It adds this item to the list and returns the instance for further configuration.
|<<modules2add,add>>(dependency) | Creates an new instance of a library item with the dependency from the object, adds this to the list and returns it for further configuration. Types of the container are used as a default configuration.
|<<modules3add,add>>(dependencies) | Creates new instances of library items from the object list with a types list from the container. All items a added to the list of items.
|<<modules4add,add>>(dependency,action) | Creates an new instance of a module item with the dependency from the object and configures this instance. The item is added to the list of items.
|===

[[modules1add]]
[source,groovy]
ModuleItem add(Object dependency, String... types)

:::
Creates an new instance of a module item with the dependency from the object and a list of types. It adds this item to the list and returns the instance for further configuration.
See <<ModuleItem,ModuleItem>>.

***
[[modules2add]]
[source,groovy]
ModuleItem add(Object dependency)

:::
Creates an new instance of a library item with the dependency from the object, adds this to the list and returns it for further configuration.
Types of the container are used as a default configuration. See <<ModuleItem,ModuleItem>>.

***
[[modules3add]]
[source,groovy]
void add(Collection<Object> dependencies)

:::
Creates new instances of library items from the object list with a types list from the container. All items a added to the list of items.

***
[[modules4add]]
[source,groovy]
void add(Object dependency, Action<? super ModuleItem> action)

:::
Creates an new instance of a module item with the dependency from the object and configures this instance. The item is added to the list of items.
Instead of an action it is also possible to use a closure. See <<ModuleItem,ModuleItem>>.

***

[[ModuleItem]]
==== Configuration of ModuleItem

===== Properties

[cols="1m,2d" width="100%", options="header"]
|===
|Property | Description

|<<moduledependency,dependency>>        | The dependency configuration of this module.
|<<moduleresolveTransitive,resolveTransitive>> | If this value is true, the dependency will be resolved transitive.
|<<moduletargetPath,targetPath>>      | The target path of this module artifact. The default value is the module name.
|<<moduletargetIncluded,targetIncluded>> | If the configured target path is part of the component packages, it is necessary to set this property to true.
|===

[[moduledependency]]
[source,groovy]
DependencyConfig dependency

:::
The dependency configuration of this module. See <<DependencyConfig,DependencyConfig>>.

***
[[moduleresolveTransitive]]
[source,groovy]
boolean resolveTransitive

:::
If this value is true, the dependency will be resolved transitive.
Default:: `true`

***
[[moduletargetPath]]
[source,groovy]
String targetPath

:::
The target path of this module artifact. The default value is the module name.
Default:: `dependency.module`

***
[[moduletargetIncluded]]
[source,groovy]
boolean targetIncluded

:::
If the configured target path is part of the component packages, it is necessary to set this property to true.
Default:: `false`

***

[[DependencyMngtContainer]]
=== Container 'dependencyMngt'

This configuration contains all dependency related configuration.

==== Properties of 'dependencyMngt'

[cols="1m,2d" width="100%", options="header"]
|===
|Property | Description

|<<dmexcludes,excludes>> | Set of excludes patterns, eg 'com.test.*' excludes all dependencies with com.test in groups.
|<<classpathVerification,classpathVerification>> | The configuration for classpath verification.
|===

[[dmexcludes]]
[source,groovy]
Set<DependencyConfig> excludes

:::
Set of excludes patterns, eg 'com.test.*' excludes all dependencies with com.test in groups. See <<DependencyConfig,DependencyConfig>>.
Default:: `[]`

***
[[classpathVerification]]
[source,groovy]
ClasspathVerificationContainer classpathVerification

:::
The configuration for classpath verification. See <<ClasspathVerificationContainer,ClasspathVerificationContainer>>

***

==== Methods of 'dependencyMngt'

[cols="1m,1d" width="100%", options="header"]
|===
|Method | Description

|<<dmexclude,exclude>>(group,module,version) | With this method it is possible to add an pattern with a group or organization, a name and a version.
It is possible to configure only a group and a name pattern or only a group pattern.
|<<classpathVerification,classpathVerification>>(action) | Initialize container for classpath verification (check for class collisions).
|===

[[dmexclude]]
[source,groovy]
void exclude(String group, String module, String version)

:::
With this method it is possible to add an pattern with a group or organization, a name and a version.
It is possible to configure only a group and a name pattern or only a group pattern. See See <<DependencyConfig,DependencyConfig>>.

***
[[classpathVerification]]
[source,groovy]
void classpathVerification(Action<? super ClasspathVerificationContainer> action)

:::
Initialize container for classpath verification (check for class collisions). Instead of an action it is also possible to use a closure.
See <<ClasspathVerificationContainer,ClasspathVerificationContainer>>

***

[[ClasspathVerificationContainer]]
==== Configuration of 'classpathVerification'

===== Properties

[cols="1m,2d" width="100%", options="header"]
|===
|Property | Description

|<<enabled,enabled>> | For disabling classpath verification set this property to false.
|<<cvexcludes,excludes>> | Set of excludes patterns, eg 'com.test.*' excludes all dependencies with com.test in groups from class path verification.
|<<excludedClasses,excludedClasses>> | Set of patterns to exclude special classes from verification.
|===

[[enabled]]
[source,groovy]
boolean enabled

:::
For disabling classpath verification set this property to false.
Default:: `true`

***
[[cvexcludes]]
[source,groovy]
Set<DependencyConfig> excludes

:::
Set of excludes patterns, eg 'com.test.*' excludes all dependencies with com.test in groups from class path verification. See <<DependencyConfig,DependencyConfig>>.
Default:: `[]`

***
[[excludedClasses]]
[source,groovy]
Set<String> excludedClasses

:::
Set of patterns to exclude special classes from verification.
Default:: `[]`

***

===== Methods

[cols="1m,1d" width="100%", options="header"]
|===
|Method | Description

|<<cvmexclude,exclude>>(group,module,version) | With this method it is possible to add an pattern with a group or organization, a name and a version.
It is possible to configure only a group and a name pattern or only a group pattern.
|<<excludeClass,excludeClass>>(classPattern) | Adds a pattern for classes, to remove these classes from verification.
|===

[[cvmexclude]]
[source,groovy]
void exclude(String group, String module, String version)

:::
With this method it is possible to add an pattern with a group or organization, a name and a version.
It is possible to configure only a group and a name pattern or only a group pattern.

***
[[excludeClass]]
[source,groovy]
void excludeClass(String classPattern)

:::
Adds a pattern for classes, to remove these classes from verification.

***

[[FileItemContainer]]
=== Container 'fileItems'

This is the configuration of single files.

==== Properties of 'fileItems'

[cols="25%,10%,10%,55%", width="90%, options="header"]
|===
|Property | Type | Default value | Description

|*items*             | `Set<FileItem>` | `[]`   | Set of all configured file items.
|*targetPath*        | `String`           | `""`   | A target path for all files.
|===

==== Methods of 'fileItems'

[cols="10%,38%,52%"*, width="95%", options="header"]
|===
|Method     | Parameters | Description

|*add* | `File`, `String...` | Creates an new instance of a file item with the real file and a list of types. It adds this item to the list and returns the instance for further configuration.
|*add* | `File` | Creates an new instance of a file item with the real file, adds this to the list and returns it for further configuration. Types of the container are used as a default configuration.
|*add* | `Collection<File>` | Creates new instances of file items from the file list with a types list from the container. All items a added to the list of items.
|*add* | `File`, `Action<? super FileItem>` | Creates an new instance of a file item from the real file and configures this instance. The item is added to the list of items.
|*add* | `File`, `Closure` | Creates an new instance of a file item from the real file and configures this instance. The item is added to the list of items.
|===

==== Configuration of FileItem

===== Properties

[cols="25%,10%,10%,55%", width="95%, options="header"]
|===
|Property | Type | Default value | Description

|*name*        | `String` | file name  | The default value is the name without the extension of the configured file. If this property value is changed, the file name can be changed for publishing and deployment.
|*extension*  | `String` | file extension | The default value is the extension of the configured file. If this property value is changed, the file extension can be changed for publishing and deployment.
|*targetPath* | `String`  | `""`   | The target path without the file name of this file artifact.
|*classifier* | `String` | "" | This property can be used if this configuration is for a special operating system.
|===

[[FileContainerItemContainer]]
=== Container 'containers'

Sometimes it is necessary to configure files of a component together in a package. This configuration contains this kind of configuration.

==== Properties of 'containers'

[cols="25%,10%,10%,55%", width="90%, options="header"]
|===
|Property | Type | Default value | Description

|*items*             | `Set<FileContainerItem>` | `[]`   | Set of all configured file container items (zip).
|*targetPath*        | `String`           | `""`   | A target path for all files.
|===

==== Methods of 'containers'

[cols="10%,38%,52%"*, width="95%", options="header"]
|===
|Method     | Parameters | Description

|*add* | `String`, `String...` | Creates an new instance of a file container item with a name and a list of types. It adds this item to the list and returns the instance for further configuration.
|*add* | `String` | Creates an new instance of a file container item with a name, adds this to the list and returns it for further configuration. Types of the container are used as a default configuration.
|*add* | `String`, `Action<? super FileContainerItem>` | Creates an new instance of a file container item with a name and configures this instance. The item is added to the list of items.
|*add* | `String`, `Closure` | Creates an new instance of a file container item with a name and configures this instance. The item is added to the list of items.
|===

==== Configuration of FileContainerItem

===== Properties

[cols="25%,10%,10%,55%", width="95%, options="header"]
|===
|Property | Type | Default value | Description

|*containerType*        | `String` | ""  |
|*baseName*  | `String` | `projet.name` |
|*targetPath* | `String`  | `""`   | The target path without the file name of this file artifact.
|*targetIncluded* | `boolean` | `false` | If the configured target path is part of the package, it is necessary to set this property to true.
|*source* | FileCollection | [] | The files to be packed. (read only)
|*classifier* | `String` | "" | This property can be used if this configuration is for a special operating system.
|===

===== Methods

[cols="10%,38%,52%"*, width="95%", options="header"]
|===
|Method     | Parameters | Description

|*source* | `Object...` | Specifies the source  files for packaging. The given paths are evaluated as per Project.files(java.lang.Object[]).
|===

[[PropertyItemContainer]]
=== Container 'propertyItems'

==== Properties of 'propertyItems'

[cols="25%,10%,10%,55%", width="90%, options="header"]
|===
|Property | Type | Default value | Description

|*items*             | `Set<PropertyItem>` | `[]`   | Set of all configured property items.
|*types*             | `Set<String>`      | `[]`   | This is a list of deployment and environement types of the component. (*read only*)  +
It is used for all items.
|===

==== Methods of 'propertyItems'

[cols="10%,38%,52%"*, width="95%", options="header"]
|===
|Method     | Parameters | Description

|*add* | `String`, `String`, `String...` | Creates an new instance of a property configuration item with a property key, a value and a list of types. It adds this item to the list and returns the instance for further configuration.
|*add* | `String`, `String` | Creates an new instance of a property configuration item with a property key and a value. Types of the container are used as a default configuration.
|*add* | `String`, `Action<? super PropertyItem>` | Creates an new instance of a property configuration item with a property key and configures this instance. The item is added to the list of items.
|*add* | `String`, `Closure` | Creates an new instance of a property configuration item with a property key and configures this instance. The item is added to the list of items.
|===

==== Configuration of FileContainerItem

===== Properties

[cols="25%,10%,10%,55%", width="95%, options="header"]
|===
|Property | Type | Default value | Description

|*value* | `String` | "" | The property value of this item.
|*classifier* | `String` | "" | This property can be used if this configuration is for a special operating system.
|===

== License

Copyright 2014-2018 Intershop Communications.

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
